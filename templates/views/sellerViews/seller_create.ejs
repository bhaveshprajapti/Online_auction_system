<!DOCTYPE html>
<html lang="en" dir="ltr">



<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">

    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">


    <meta name="description" content="Global Auction System">
    <meta name="keywords" content="Global Auction System">
    <meta name="csrf_token" content="Zw1eYq4tsFJFwBA8kJfLb6fP8Lt3xu69dsUILDfj">

    <link rel="icon" href="/public/uploads/settings/H0DUiWpMJYMGEPP.png" type="image/x-icon" />

    <title>Bidzone - Online auction and bidding</title>



    <link href="/public/css/bootstrap-datetimepicker.min.css" rel="stylesheet">
    <link href="/public/css/checkbox.css" rel="stylesheet" type="text/css">
    <link href="/public/adminlte/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/public/adminlte/css/select2.min.css" />
    <link href="/public/adminlte/css/AdminLTE.min.css" rel="stylesheet">
    <link href="/public/adminlte/css/custom.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="/public/css/global-admin.css" rel="stylesheet">

    <!-- <link href="/public/adminlte/css/skins/skin-blue.min.css" rel="stylesheet"> -->

    <link href="/public/css/sweetalert.css" rel="stylesheet" type="text/css">






    <link rel="stylesheet" href="/public/adminlte/css/online/jquery-ui.css">
    <link rel="stylesheet" href="/public/adminlte/css/online/jquery.dataTables.min.css" />
    <link rel="stylesheet" href="/public/adminlte/css/online/select.dataTables.min.css" />
    <link rel="stylesheet" href="/public/adminlte/css/online/buttons.dataTables.min.css" />
    <link rel="stylesheet" href="/public/adminlte/css/online/jquery-ui-timepicker-addon.min.css" />
    <link rel="stylesheet" href="/public/adminlte/css/online/bootstrap-datepicker.standalone.min.css" />



    <!-- Font Awesome -->
    <link rel="stylesheet" href="/public/adminlte/css/online/font-awesome.min.css">


    <!-- Ionicons -->
    <link rel="stylesheet" href="/public/adminlte/css/online/ionicons.min.css">

    <link href="/public/css/admin.css" rel="stylesheet">


    <!--admin custom css-->
    <link href="/public/css/admin-custom.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>




<body class="hold-transition skin-blue sidebar-mini" ng-app="academia">


    <div ng-controller="prepareAuctionData">



        <div id="wrapper">


            <header class="main-header">
                <!-- Logo -->
                <!-- Header Navbar: style can be found in header.less -->
                
            <%- include('seller_side_navbar')%>

            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                <!-- Main content -->
                <section class="content">

                    <div class="row">
                        <div class="col-md-12">




                            <h3 class="page-title">Auctions</h3>

                            

                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    Auctions
                                </div>

                                <% if (errorMessage) { %>
                                    <div class="alert alert-danger" style="color: red; background-color: white;">
                                        <%= errorMessage %>
                                    </div>
                                <% } %>

                                <div class="panel-body form-auth-style" id="app">

                                    <div class="row">
                                        <% if (editMode) { %>
                                        <form method="POST" action="/seller/update-auction/<%= product._id %>" enctype="multipart/form-data">
                                      
                                            <div class="col-xs-12">
                                                <div class="col-xs-6">
                                                    <div class="form-group">
                                                        <label for="title" class="control-label">Title</label>
                                                        <span class="text-red">*</span>
                                                        <input class="form-control" placeholder="Title"  required="true" name="title" value="<%= product.name %>" type="text" id="title">
                                                    </div>
                                        
                                                    <div class="form-group">
                                                        <label for="category" class="control-label">Category</label>
                                                        <span class="text-red">*</span>
                                                        <select class="form-control select2" required="true" name="category_id">
                                                            
                                                            <% categories.forEach(category => { %>
                                                                <option <%= product.category === category.name && category.name ? 'selected' : '' %>value="<%= product.category %>"><%= product.category %></option>
                                                            <% }); %>
                                                        </select>
                                                    </div>
                                        
                                                    <div class="form-group">
                                                        <label for="condition" class="control-label">Condition</label>
                                                        <span class="text-red">*</span>
                                                        <select class="form-control select2" required="true" name="condition">
                                                            <option <%= product.condition === 'New' ? 'selected' : '' %> value="New">New</option>
                                                            <option <%= product.condition === 'Used' ? 'selected' : '' %> value="Used">Used</option>
                                                            <option <%= product.condition === 'Restored' ? 'selected' : '' %> value="Restored">Restored</option>

                                                        </select>
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="start_date" class="control-label">Start Date</label>
                                                        <span class="text-red">*</span>
                                                        <input  placeholder="Start Date and Time" name="start_date" value="<%= product.biddingStartTime %>" type="datetime-local"><%= product.biddingStartTime %>
                                                    </div>
                                        
                                                    <div class="form-group">
                                                        <label for="end_date" class="control-label">End Date</label>
                                                        <span class="text-red">*</span>
                                                        <input  placeholder="End Date and Time" name="end_date" value="<%= product.biddingEndTime %>" type="datetime-local"><%= product.biddingEndTime %>
                                                    </div>
                                        
                                                    <div class="form-group">
                                                        <label for="reserve_price" class="control-label">Reserve Price (INR)</label>
                                                        <span class="text-red">*</span>
                                                        <input class="form-control" placeholder="Reserve Price" name="reserve_price" type="text" value="<%= product.startingPrice %>" id="reserve_price">
                                                    </div>
                                        
                                                    <div class="form-group">
                                                        <div>
                                                        <label for="description" class="control-label">Description</label>
                                                        <span class="text-red">*</span>
                                                        </div>
                                                        <div>
                                                        <textarea placeholder="Description" required="true" name="description"  cols="50" rows="10"><%= product.description %></textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                        
                                                <div class="col-xs-6">
                                                    <div class="form-group">
                                                        <label class="control-label">Shipping available</label>
                                                        <div class="form-group row">
                                                            <div class="col-md-6">
                                                                <input id="yes" name="Shipping" checked="checked" type="radio" value="<%= product.shippingAvailable %>">
                                                                <label for="yes"> <span class="fa-stack radio-button"> <i class="mdi mdi-check active"></i> </span> No</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <input id="no" name="Shipping" type="radio" value="<%= product.shippingAvailable %>">
                                                                <label for="no"> <span class="fa-stack radio-button"> <i class="mdi mdi-check active"></i> </span> Yes</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                        
                                                    <div class="form-group">
                                                        <div>
                                                        <label for="shipping_terms" class="control-label">Terms And Conditions</label>
                                                        </div>
                                                        <div>
                                                        <textarea placeholder="Terms And Conditions"  name="shipping_terms" cols="50" rows="10" ><%= product.termsAndConditions %></textarea>
                                                        </div>
                                                    </div>
                                        
                                                    <!-- <div class="form-group">
                                                        <label for="auction_status" class="control-label">Auction Status</label>
                                                        <span class="text-red">*</span>
                                                        <select class="form-control select2" required="true" name="auction_status">
                                                            <option <%= product.auctionStatus === 'new' ? 'selected' : '' %> value="new">New</option>
                                                            <option <%= product.auctionStatus === 'open' ? 'selected' : '' %> value="open">Open</option>
                                                            <option <%= product.auctionStatus === 'suspended' ? 'selected' : '' %> value="suspended">Suspended</option>
                                                            <option <%= product.auctionStatus === 'closed' ? 'selected' : '' %> value="closed">Closed</option>
                                                
                                                        </select>
                                                    </div>
                                        
                                                    <div class="form-group">
                                                        <label for="admin_status" class="control-label">Admin Status</label>
                                                        <span class="text-red">*</span>
                                                        <select class="form-control select2" required="true" name="admin_status">
                                                            <option <%= product.adminStatus === 'pending' ? 'selected' : '' %> value="pending">Pending</option>
                                                            <option <%= product.adminStatus === 'approved' ? 'selected' : '' %> value="approved">Approved</option>
                                                            <option <%= product.adminStatus === 'rejected' ? 'selected' : '' %> value="rejected">Rejected</option>
              
                                                        </select>
                                                    </div> -->
                                        
                                                    <div class="form-group">
                                                        <label for="image" class="control-label">Image</label> <b><small style="color:red;">(950x650 for good resolution)</small></b>
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <input id="image_input" accept=".png,.jpg,.jpeg" name="image" type="file" value="<%= product.image %>">
                                                            </div>
                                                        </div>
                                                    </div>
                                        
                                                    <div class="form-group pull-right">
                                                        <button class="btn btn-success" type="submit">Update</button>
                                                    </div>         
                                                </div>
                                            </div>
                                        </form>
                                        <% } else { %>
                                        <form method="POST" action="/seller/create-auction"  enctype="multipart/form-data">
                                      
                                            <div class="col-xs-12">
                                                <div class="col-xs-6">
                                                    <div class="form-group">
                                                        <label for="title" class="control-label">Title</label>
                                                        <span class="text-red">*</span>
                                                        <input class="form-control" placeholder="Title"  required="true" name="title" type="text" id="title">
                                                    </div>
                                        
                                                    <div class="form-group">
                                                        <label for="category" class="control-label">Category</label>
                                                        <span class="text-red">*</span>
                                                        <select class="form-control select2" required="true" name="category_id">
                                                            <option selected="selected" value="">Select</option>
                                                            <% categories.forEach(category => { %>
                                                                <option value="<%= category.name %>"><%= category.name %></option>
                                                            <% }); %>
                                                        </select>
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="condition" class="control-label">Condition</label>
                                                        <span class="text-red">*</span>
                                                        <select class="form-control select2" required="true" name="condition">
                                                            <option selected="selected" value="">Select</option>
                                                            <option value="New">New</option>
                                                            <option value="Used">Used</option>
                                                            <option value="Restored">Restored</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="start_date" class="control-label">Start Date</label>
                                                        <span class="text-red">*</span>
                                                        <input class="form-control" id="datetimepicker6" placeholder="Start Date and Time" name="start_date" type="text">
                                                    </div>
                                        
                                                    <div class="form-group">
                                                        <label for="end_date" class="control-label">End Date</label>
                                                        <span class="text-red">*</span>
                                                        <input class="form-control" id="datetimepicker7" placeholder="End Date and Time" name="end_date" type="text">
                                                    </div>
                                        
                                                    <div class="form-group">
                                                        <label for="reserve_price" class="control-label">Reserve Price (INR)</label>
                                                        <span class="text-red">*</span>
                                                        <input class="form-control" placeholder="Reserve Price" name="reserve_price" type="text" id="reserve_price">
                                                    </div>
                                        
                                                    <div class="form-group">
                                                        <div>
                                                        <label for="description" class="control-label">Description</label>
                                                        <span class="text-red">*</span>
                                                        </div>
                                                        <div>
                                                        <textarea placeholder="Description" required="true" name="description" cols="50" rows="10"></textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                        
                                                <div class="col-xs-6">
                                                    <div class="form-group">
                                                        <label class="control-label">Shipping available</label>
                                                        <div class="form-group row">
                                                            <div class="col-md-6">
                                                                <input id="yes" name="Shipping" checked="checked" type="radio" value="0">
                                                                <label for="yes"> <span class="fa-stack radio-button"> <i class="mdi mdi-check active"></i> </span> No</label>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <input id="no" name="Shipping" type="radio" value="1">
                                                                <label for="no"> <span class="fa-stack radio-button"> <i class="mdi mdi-check active"></i> </span> Yes</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                        
                                                    <div class="form-group">
                                                        <div>
                                                        <label for="shipping_terms" class="control-label">Terms And Conditions</label>
                                                        </div>
                                                        <div>
                                                        <textarea placeholder="Terms And Conditions" id="terms" name="shipping_terms" cols="50" rows="10"></textarea>
                                                        </div>
                                                    </div>
                                        
                                                    <!-- <div class="form-group">
                                                        <label for="auction_status" class="control-label">Auction Status</label>
                                                        <span class="text-red">*</span>
                                                        <select class="form-control select2" required="true" name="auction_status">
                                                            <option selected="selected" value="">Select</option>
                                                            <option value="new">New</option>
                                                            <option value="open">Open</option>
                                                            <option value="suspended">Suspended</option>
                                                            <option value="closed">Closed</option>
                                                        </select>
                                                    </div>
                                        
                                                    <div class="form-group">
                                                        <label for="admin_status" class="control-label">Admin Status</label>
                                                        <span class="text-red">*</span>
                                                        <select class="form-control select2" required="true" name="admin_status">
                                                            <option selected="selected" value="">Select</option>
                                                            <option value="pending">Pending</option>
                                                            <option value="approved">Approved</option>
                                                            <option value="rejected">Rejected</option>
                                                        </select>
                                                    </div> -->
                                        
                                                    <div class="form-group">
                                                        <label for="image" class="control-label">Image</label> <b><small style="color:red;">(950x650 for good resolution)</small></b>
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <input id="image_input" accept=".png,.jpg,.jpeg" name="image" type="file">
                                                            </div>
                                                        </div>
                                                    </div>
                                        
                                                    <div class="form-group pull-right">
                                                        <button class="btn btn-success">Save</button>
                                                    </div>
                                                   
                                                </div>
                                            </div>
                                        </form>
                                        <% } %> 

                                    </div>

                                </div>


                            </div>
                        </div>
                </section>
                </div>
            </div>

            

            <script>
                window.deleteButtonTrans = 'Delete selected';
                window.copyButtonTrans = 'Copy';
                window.csvButtonTrans = 'CSV';
                window.excelButtonTrans = 'Excel';
                window.pdfButtonTrans = 'PDF';
                window.printButtonTrans = 'Print';
                window.colvisButtonTrans = 'Column visibility';
            </script>


            <script src="/public/adminlte/js/online/jquery-1.11.3.min.js"></script>
            <script src="/public/adminlte/js/online/jquery.dataTables.min.js"></script>
            <script src="/public/adminlte/js/online/dataTables.buttons.min.js"></script>
            <script src="/public/adminlte/js/online/buttons.flash.min.js"></script>
            <script src="/public/adminlte/js/online/jszip.min.js"></script>


            <script src="/public/adminlte/js/online/pdfmake.min.js"></script>
            <script src="/public/adminlte/js/online/vfs_fonts.js"></script>
            <script src="/public/adminlte/js/online/buttons.html5.min.js"></script>
            <script src="/public/adminlte/js/online/buttons.print.min.js"></script>
            <script src="/public/adminlte/js/online/buttons.colVis.min.js"></script>
            <script src="/public/adminlte/js/online/dataTables.select.min.js"></script>
            <script src="/public/adminlte/js/online/jquery-ui.min.js"></script>



            <script src="/public/adminlte/js/bootstrap.min.js"></script>
            <script src="/public/adminlte/js/select2.full.min.js"></script>
            <script src="/public/adminlte/js/main.js"></script>

            <script src="/public/adminlte/plugins/slimScroll/jquery.slimscroll.min.js"></script>
            <script src="/public/adminlte/plugins/fastclick/fastclick.js"></script>
            <script src="/public/adminlte/js/app.min.js"></script>

            <script src="/public/js/sweetalert-dev.js"></script>


            <script>
                // window._token = 'Zw1eYq4tsFJFwBA8kJfLb6fP8Lt3xu69dsUILDfj';

                var csrfToken = $('[name="csrf_token"]').attr('content');

                setInterval(refreshToken, 600000); // 1 hour 

                function refreshToken() {
                    $.get('refresh-csrf').done(function(data) {
                        csrfToken = data; // the new token
                    });
                }

                setInterval(refreshToken, 600000); // 1 hour
            </script>

            <script>
                $.extend(true, $.fn.dataTable.defaults, {
                    "language": {
                        "url": "//cdn.datatables.net/plug-ins/1.10.15/i18n/English.json"
                    }
                });
            </script>



            <script>
                $(document).ready(function() {
                    $(".notifications-menu").on('click', function() {
                        if (!$(this).hasClass('open')) {
                            $('.notifications-menu .label-warning').hide();
                            $.get('internal_notifications/read');
                        }
                    });
                });
            </script>


            <script src="/public/js/angular.js"></script>
            <script src="/public/js/angular-messages.js"></script>

            <script>
                app = angular.module('academia', ['ngMessages']);
                app.directive('stringToNumber', function() {
                    return {
                        require: 'ngModel',
                        link: function(scope, element, attrs, ngModel) {
                            ngModel.$parsers.push(function(value) {
                                return '' + value;
                            });
                            ngModel.$formatters.push(function(value) {
                                return parseFloat(value);
                            });
                        }
                    };
                });
                app.directive('input', function($parse) {
                    return {
                        restrict: 'E',
                        multiElement: true,
                        require: '?ngModel',
                        link: function(scope, element, attrs) {
                            e = element[0];

                            if (attrs.ngModel && attrs.value) {
                                $parse(attrs.ngModel).assign(scope, attrs.value);
                            }
                        }
                    };
                });

                app.directive('textarea', function($parse) {
                    return {
                        restrict: 'E',
                        multiElement: true,
                        require: '?ngModel',
                        link: function(scope, element, attrs) {
                            e = element[0];
                            // console.log(element[0].value);
                            if (attrs.ngModel && e.value) {
                                $parse(attrs.ngModel).assign(scope, e.value);
                            }
                        }
                    };
                });
                app.directive('select', function($parse) {
                    return {
                        restrict: 'E',
                        multiElement: true,
                        require: '?ngModel',
                        link: function(scope, element, attrs) {
                            e = element[0];
                            selectedValue = e.options[e.selectedIndex].value;
                            // console.log(selectedValue);
                            if (attrs.ngModel && selectedValue) {
                                $parse(attrs.ngModel).assign(scope, selectedValue);
                            }
                        }
                    };
                });

                /**
                 * PASSWORD AND CONFIRM PASSWORD FIELDS VALIDATION DIRECTIVE
                 * @return  {[type]} [description]
                 */
                var compareTo = function() {
                    return {
                        require: "ngModel",
                        scope: {
                            otherModelValue: "=compareTo"
                        },
                        link: function(scope, element, attributes, ngModel) {

                            ngModel.$validators.compareTo = function(modelValue) {
                                return modelValue == scope.otherModelValue;
                            };

                            scope.$watch("otherModelValue", function() {
                                ngModel.$validate();
                            });
                        }
                    };
                };

                app.directive("compareTo", compareTo);

                /**
                 * FILE VALIDATION DIRECTIVES BEFORE UPLOAD
                 */

                var validImage = function($rootScope) {
                    var validFormats = ['jpg', 'png', 'jpeg'];
                    return {
                        require: "ngModel",
                        scope: {
                            otherModelValue: "=validImage"
                        },
                        link: function(scope, element, attributes, ngModel) {
                            $rootScope.isImageValid = 'true';
                            // console.log(element);
                            ngModel.$validators.validImage = function(modelValue) {

                                element.on('change', function() {

                                    // e = element[0];
                                    // fileObject = $.parseJSON(e.files);
                                    // console.log(e.files);
                                    file_size = this.files[0].size;
                                    console.log(file_size);
                                    valid_size = true;

                                    var value = element.val(),
                                        ext = value.substring(value.lastIndexOf('.') + 1).toLowerCase();
                                    console.log(validFormats.indexOf(ext) !== -1);
                                    $rootScope.isImageValid = validFormats.indexOf(ext) !== -1;
                                    $rootScope.$apply();
                                    console.log(" $rootScope.isImageValid   " + $rootScope.isImageValid);
                                    if (file_size > 2000000) {

                                        return false;
                                    } else {
                                        return validFormats.indexOf(ext) !== -1;
                                    }
                                });
                            };


                        }
                    };
                };
                app.directive("validImage", validImage);
            </script>
            <link rel="stylesheet" href="/public/css/alertify/themes/alertify.core.css">
            <link rel="stylesheet" href="/public/css/alertify/themes/alertify.default.css" id="toggleCSS">

            <script src="/public/js/alertify.js"></script>


            <script>
                var file = document.getElementById('image_input');

                file.onchange = function(e) {
                    var ext = this.value.match(/\.([^\.]+)$/)[1];
                    switch (ext) {
                        case 'jpg':
                        case 'jpeg':
                        case 'png':

                            break;
                        default:
                            alertify.error("File Type Not Allowed");
                            this.value = '';
                    }
                };
            </script>


            <script src="/public/js/ngStorage.js"></script>
            <script src="/public/js/angular-messages.js"></script>


            <script>
                var app = angular.module('academia', ['ngMessages']);
            </script>

            <script>
                app.factory('httpPreConfig', function($http, $rootScope, $timeout, $q) {
                    return {
                        webServiceCallPost: function(url, data) {
                            $('#ajax_loader').fadeIn(100);
                            return $http.post(url, data).then(function(response) {
                                $('#ajax_loader').fadeOut(100);
                                return response;
                            });
                        },
                        getToken: function() {
                            return $('[name="_token"]').val();
                        },
                        findIndexInData: function(Array, property, action) {
                            var result = -1;
                            angular.forEach(Array, function(value, index) {
                                if (value[property] == action) {
                                    result = index;
                                }
                            });
                            return result;
                        },
                        showConfirmation: function() {
                            var defer = $q.defer();


                            swal({

                                    title: "Are You Sure?",

                                    type: "warning",

                                    showCancelButton: true,

                                    confirmButtonClass: "btn-danger",

                                    confirmButtonText: "Yes, Delete It!",

                                    cancelButtonText: "No, Cancel Please!",

                                    closeOnConfirm: true,

                                    closeOnCancel: false

                                },

                                function(isConfirm) {

                                    if (isConfirm) {


                                        defer.resolve(1);

                                    } else {

                                        swal("Cancelled", "Your Record Is Safe :)", "error");

                                        defer.resolve(0);
                                    }

                                });
                            return defer.promise;
                        },
                        webServiceCallPost1: function(url, data) {
                            var deferred = $q.defer();
                            return $.ajax({
                                type: "POST",
                                url: url,
                                crossDomain: true,
                                dataType: "json",
                                data: data,
                                timeout: 2000000,
                                async: true,
                                success: function(response) {
                                    console.log("response    " + JSON.stringify(response));
                                    deferred.resolve();
                                },
                                error: function(xhr, ajaxOptions, thrownError) {

                                    if (xhr.status == 0) {

                                    } else if (xhr.status == 404) {

                                    } else {

                                    }
                                },
                                beforeSend: function() {},
                                complete: function() {}
                            });

                        }
                    }

                });
            </script>

            <script>
                app.controller('prepareAuctionData', function($scope, $http, httpPreConfig) {



                    $scope.getSubCategories = function(selected_category) {


                        route = '/auctions/get-sub-categories',
                            data = {
                                _method: 'post',
                                '_token': httpPreConfig.getToken(),
                                'category_id': selected_category
                            };

                        $scope.sub_categories = [];

                        httpPreConfig.webServiceCallPost(route, data).then(function(result) {

                            $scope.sub_categories = result.data.sub_categories;

                            // $scope.branch_id      = $scope.branches[0];



                        });
                    }





                    $scope.initFunctions = function() {}




                    $scope.getBidHistory = function(ab_id) {


                        route = '/auctions/bid-history',
                            data = {
                                _method: 'post',
                                '_token': httpPreConfig.getToken(),
                                'id': ab_id
                            };

                        $scope.bid_history = [];

                        httpPreConfig.webServiceCallPost(route, data).then(function(result) {

                            $scope.bid_history = result.data.records;

                            // $scope.branch_id      = $scope.branches[0];



                        });
                    }

                });
            </script>

            <script src="/public/ckeditor/ckeditor.js"></script>
            <script src="/public/ckeditor/adapters/jquery.js"></script>


            <script>
                CKEDITOR.replace('description');
                $("form").submit(function(e) {
                    var messageLength = CKEDITOR.instances['description'].getData().replace(/<[^>]*>/gi, '').length;
                    if (!messageLength) {
                        alert('Please enter description');
                        e.preventDefault();
                    }
                });
            </script>

            <script>
                CKEDITOR.replace('shipping');
                CKEDITOR.replace('terms');
            </script>

            <script src="/public/js/moment.min.js"></script>
            <script src="/public/js/bootstrap-datetimepicker.min.js"></script>
            <script>
                $(function() {
                    $('#datetimepicker6').datetimepicker();
                    $('#datetimepicker7').datetimepicker({
                        useCurrent: false //Important! See issue #1075
                    });
                    $("#datetimepicker6").on("dp.change", function(e) {
                        $('#datetimepicker7').data("DateTimePicker").minDate(e.date);
                    });
                    $("#datetimepicker7").on("dp.change", function(e) {
                        $('#datetimepicker6').data("DateTimePicker").maxDate(e.date);
                    });
                });



                $(function() {
                    $('#datetimepicker1').datetimepicker();
                });
            </script>

            <script src="/public/js/bootstrap-datepicker.min.js"></script>
            <script>
                $(function() {
                    $('#datepicker').datepicker({
                        autoclose: true
                    });
                });
            </script>


            <script src="/public/adminlte/plugins/timepicker/bootstrap-timepicker.min.js"></script>
            <script>
                $(function() {
                    $('#timepicker1').datetimepicker({
                        format: 'HH:mm:ss'
                    });

                    $('#timepicker2').datetimepicker({
                        format: 'HH:mm:ss'
                    });

                });
            </script>





            <div class="ajax-loader" style="display:none;" id="ajax_loader"><img src="/public/images/ajax-loader.svg"> please_wait...</div>
</body>

</html>